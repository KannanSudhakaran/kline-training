@page "/dynamicweatherinfo"
@inject HttpClient Http


<h3>DynamicWeather</h3>

 <button @onclick="LoadWeatherInfo">LoadWeatherInfo</button>

@if (forecasts == null)
{
    
  <p>Loading........</p> 
}
else  {

<table class="table">
    <thead>
        <tr>
            <th>Date</th>
            <th>Temp (°C)</th>
            <th>Temp (°F)</th>
            <th>Summary</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var forecast in forecasts)
        {
            <tr>
                <td>@forecast.Date.ToString("yyyy-MM-dd")</td>
                <td>@forecast.TemperatureC</td>
                <td>@forecast.TemperatureF</td>
                <td>@forecast.Summary</td>
            </tr>
        }
    </tbody>
</table>

}



@code {
    
    private List<WeatherForecast>? forecasts;
    private async Task LoadWeatherInfo()
    {
        forecasts = await Http.GetFromJsonAsync<List<WeatherForecast>>("https://localhost:7187/WeatherForecast");

        
     

    }

}
